import{j as t}from"./jsx-runtime-CDt2p4po.js";import{r as E}from"./index-GiUgBvb1.js";import{P}from"./plotly-CNt8u1Bg.js";const Q=a=>{const o={A:a.peakA,T:a.peakT,G:a.peakG,C:a.peakC},k=Object.values(o);if(k.every(i=>i===k[0]))return"";let c="",l=0;return Object.entries(o).forEach(([i,u])=>{u>l&&(c=i,l=u)}),c},O=({data:a=[],width:o=900,height:k=600,positionInterval:m=10,colorA:c="#2D9CDB",colorT:l="#A1C63C",colorG:i="#FF5C64",colorC:u="#FFA62E"})=>{const d=E.useRef(null),p=a.map(e=>e.position),R=a.map(e=>Q(e)),g=a.map(e=>e.peakA),G=a.map(e=>e.peakT),x=a.map(e=>e.peakG),y=a.map(e=>e.peakC),z={x:p,y:g,type:"scatter",mode:"lines",name:"A",line:{color:c,width:2,shape:"spline"}},L={x:p,y:G,type:"scatter",mode:"lines",name:"T",line:{color:l,width:2,shape:"spline"}},H={x:p,y:x,type:"scatter",mode:"lines",name:"G",line:{color:i,width:2,shape:"spline"}},I={x:p,y,type:"scatter",mode:"lines",name:"C",line:{color:u,width:2,shape:"spline"}},w=Math.max(...g,...G,...x,...y);if(E.useEffect(()=>{if(!d.current||a.length===0)return;const e=[z,L,H,I],v={width:o,height:k-75,margin:{l:0,r:0,b:20,t:10,pad:0},paper_bgcolor:"var(--white-900)",plot_bgcolor:"var(--white-900)",font:{family:"Inter, sans-serif"},showlegend:!1,xaxis:{showgrid:!1,zeroline:!1,showticklabels:!1,showline:!1,range:[Math.min(...p),Math.max(...p)],fixedrange:!0},yaxis:{showgrid:!1,zeroline:!1,showticklabels:!1,showline:!1,range:[0,w*1.05],fixedrange:!0}},n={responsive:!0,displayModeBar:!1,displaylogo:!1,fillFrame:!0};return P.newPlot(d.current,e,v,n),()=>{d.current&&P.purge(d.current)}},[a,o,k,m,c,l,i,u,p,g,G,x,y,w]),a.length===0)return t.jsx("div",{className:"chart-container",children:"No data available"});const J=()=>{const e=()=>{const n=Math.min(...p),C=Math.max(...p),q=o;return t.jsx("div",{className:"sequence-letters-container",children:R.map((r,h)=>{const s=p[h],F=r==="A"?c:r==="T"?l:r==="G"?i:r==="C"?u:"var(--black-900)",K=(s-n)/(C-n)*q;return t.jsx("span",{className:"sequence-letter",style:{left:`${K}px`,color:F},children:r},`base-${h}`)})})},v=()=>{const n=Math.min(...p),C=Math.max(...p),q=o,r=Math.ceil(n/m)*m,h=[];for(let s=r;s<=C;s+=m)h.push({position:s,label:s.toString()});return t.jsx("div",{className:"position-numbers-container",children:h.map(s=>{const b=(s.position-n)/(C-n)*q;return t.jsx("span",{className:"position-number",style:{left:`${b}px`},children:s.label},`pos-${s.position}`)})})};return t.jsxs("div",{className:"sequence-header",children:[e(),v()]})};return t.jsxs("div",{className:"chromatogram-container",style:{width:o,height:k},children:[J(),t.jsx("div",{className:"chromatogram-chart",children:t.jsx("div",{ref:d,style:{width:"100%",height:"100%"}})})]})};O.__docgenInfo={description:"",methods:[],displayName:"Chromatogram",props:{data:{required:!1,tsType:{name:"Array",elements:[{name:"PeakData"}],raw:"PeakData[]"},description:"",defaultValue:{value:"[]",computed:!1}},width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"900",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"600",computed:!1}},positionInterval:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"10",computed:!1}},colorA:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"#2D9CDB"',computed:!1}},colorT:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"#A1C63C"',computed:!1}},colorG:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"#FF5C64"',computed:!1}},colorC:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"#FFA62E"',computed:!1}}}};const ee={title:"Organisms/Chromatogram",component:O,parameters:{layout:"centered"},tags:["autodocs"]},$=[{position:269,peakA:10,peakT:10,peakG:10,peakC:10},{position:270,peakA:10,peakT:10,peakG:10,peakC:50},{position:271,peakA:10,peakT:10,peakG:10,peakC:10},{position:272,peakA:15,peakT:70,peakG:10,peakC:10},{position:273,peakA:10,peakT:10,peakG:10,peakC:10},{position:274,peakA:10,peakT:45,peakG:15,peakC:10},{position:275,peakA:10,peakT:10,peakG:10,peakC:10},{position:276,peakA:10,peakT:10,peakG:10,peakC:40},{position:277,peakA:10,peakT:10,peakG:10,peakC:10},{position:278,peakA:10,peakT:10,peakG:10,peakC:60},{position:279,peakA:10,peakT:10,peakG:10,peakC:10},{position:280,peakA:10,peakT:10,peakG:10,peakC:35},{position:281,peakA:10,peakT:10,peakG:10,peakC:10},{position:282,peakA:10,peakT:10,peakG:10,peakC:40},{position:283,peakA:10,peakT:10,peakG:10,peakC:10},{position:284,peakA:10,peakT:10,peakG:50,peakC:10},{position:285,peakA:10,peakT:10,peakG:10,peakC:10},{position:286,peakA:10,peakT:10,peakG:45,peakC:10},{position:287,peakA:10,peakT:10,peakG:10,peakC:10},{position:288,peakA:10,peakT:10,peakG:40,peakC:10},{position:289,peakA:10,peakT:10,peakG:10,peakC:10},{position:290,peakA:10,peakT:30,peakG:10,peakC:10},{position:291,peakA:10,peakT:10,peakG:10,peakC:10},{position:292,peakA:10,peakT:40,peakG:10,peakC:10},{position:293,peakA:10,peakT:10,peakG:10,peakC:10},{position:294,peakA:10,peakT:10,peakG:60,peakC:10},{position:295,peakA:10,peakT:10,peakG:10,peakC:10},{position:296,peakA:10,peakT:10,peakG:10,peakC:50},{position:297,peakA:10,peakT:10,peakG:10,peakC:10},{position:298,peakA:60,peakT:10,peakG:10,peakC:10},{position:299,peakA:10,peakT:10,peakG:10,peakC:10},{position:300,peakA:10,peakT:10,peakG:10,peakC:75},{position:301,peakA:10,peakT:10,peakG:10,peakC:10},{position:302,peakA:10,peakT:10,peakG:10,peakC:65},{position:303,peakA:10,peakT:10,peakG:10,peakC:10},{position:304,peakA:70,peakT:10,peakG:10,peakC:10},{position:305,peakA:10,peakT:10,peakG:10,peakC:10}],U=[{position:269,base:"C",peakA:10,peakT:10,peakG:10,peakC:10},{position:270,base:"C",peakA:60,peakT:10,peakG:10,peakC:10},{position:271,base:"T",peakA:10,peakT:10,peakG:50,peakC:10},{position:272,peakA:15,peakT:70,peakG:10,peakC:10}],f={args:{data:$,width:650,height:250}},T={args:{data:U,width:350,height:250}},A={args:{data:$,width:900,height:450,colorA:"#8B5CF6",colorT:"#EF4444",colorG:"#F97316",colorC:"#3B82F6"}};var j,B,M;f.parameters={...f.parameters,docs:{...(j=f.parameters)==null?void 0:j.docs,source:{originalSource:`{
  args: {
    data: dnaSequenceData,
    width: 650,
    height: 250
  }
}`,...(M=(B=f.parameters)==null?void 0:B.docs)==null?void 0:M.source}}};var N,V,D;T.parameters={...T.parameters,docs:{...(N=T.parameters)==null?void 0:N.docs,source:{originalSource:`{
  args: {
    data: dnaWithExplicitBases,
    width: 350,
    height: 250
  }
}`,...(D=(V=T.parameters)==null?void 0:V.docs)==null?void 0:D.source}}};var S,W,_;A.parameters={...A.parameters,docs:{...(S=A.parameters)==null?void 0:S.docs,source:{originalSource:`{
  args: {
    data: dnaSequenceData,
    width: 900,
    height: 450,
    colorA: "#8B5CF6",
    colorT: "#EF4444",
    colorG: "#F97316",
    colorC: "#3B82F6"
  }
}`,...(_=(W=A.parameters)==null?void 0:W.docs)==null?void 0:_.source}}};const ae=["MockupMatch","WithExplicitBases","CustomColors"];export{A as CustomColors,f as MockupMatch,T as WithExplicitBases,ae as __namedExportsOrder,ee as default};
